<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
<body>
<div>
<h1 id="title">RULETA</h1>
<div id="form-input-btn">
  <input class="form-control" id="input-frase" type="password">
  <button type="button" class="btn btn-primary" id="btn-update-frase" onclick="refrescar()">Generar</button>
</div>
<div id="form-input-btn">
  <input id="input-letra" maxlength="1" type="text" class="d-none form-control">
  <button type="button" class="btn btn-primary d-none" id="btn-comprobar" onclick="comprobar()">Comprobar</button>
</div>
<div id="section-texto">
</div>
</div>
</body>
<script>
  var text = '';
  function refrescar() 
  {
    text = document.getElementById('input-frase').value.toUpperCase();
    if(text)
      guessMode();

    document.getElementById('input-frase').value = '';    
    var parent = document.getElementById("section-texto");
    parent.innerHTML = '';
    for (let i = 0; i < text.length; i++) {            
      var input = createLetter();
      parent.appendChild(input);
    }
  }
  function comprobar() 
  {        
    var letra = document.getElementById('input-letra').value.toUpperCase();
    document.getElementById('input-letra').focus();
    document.getElementById('input-letra').value = '';
    
    for (let i = 0; i < text.length; i++) {                  
      if(letra == text[i])
        document.getElementById("letra-"+i).value = letra;    
    }
  
  }

  function createLetter()
  {
      var input = document.createElement("input");
      input.setAttribute('type', 'text');      
      input.setAttribute('id', 'letra-'+i);
      input.setAttribute('maxlength', 1);
      input.setAttribute('disabled', '');      
      return input;
      
  }
  
  function guessMode()
  {
      document.getElementById('input-letra').classList.remove('d-none');    
      document.getElementById('btn-comprobar').classList.remove('d-none');    
      document.getElementById('input-frase').classList.add('d-none');    
      document.getElementById('btn-update-frase').classList.add('d-none');    
  }

</script>
<style>
  #title
  {
    text-align: center;
  }
  body{
    display: flex;
    justify-content: center;
  }

  #section-texto > input {
    width: 1.5em;
  }

  #input-letra{
    width: 2.2em;
  }
  
  #form-input-btn{
    display: flex;
    justify-content: center;
  }

  #form-input-btn > input{
    margin-right: 0.5em;
  }
  
</style>
